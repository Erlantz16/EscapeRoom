const defaultMessage = "Se usará una palabra aleatoria en su lugar.";

const aleatorio = (min, max) => {
  // Generar un número aleatorio entre dos números, inclusives
  return Math.floor(Math.random() * (max - min + 1) + min);
};

export function getWordOfTheDay() {
  if (location.search) {
    try {
      const query = atob(location.search.slice(1));
      if (query.length !== 5) {
        alert(
          `La longitud de la palabra codificada es incorrecta. ${defaultMessage}`
        );
      } else {
        return query.toLowerCase();
      }
    } catch (e) {
      alert(
        `La palabra codificada no tiene el formato correcto. ${defaultMessage}`
      );
    }
  }

  // Seleccionar una palabra por cada día
  // const now = new Date();
  // const start = new Date(2022, 0, 0);
  // const diff = Number(now) - Number(start);
  // let day = Math.floor(diff / (1000 * 60 * 60 * 24));
  // // while (day > answers.length) {
  // //   day -= answers.length
  // // day = day - answers.length
  // // }
  // day = day % answers.length;

  // Seleccionar una palabra aleatoriamente
  const num = aleatorio(0, answers.length - 1);

  return answers[num];
}

// copied from Wordle source
const answers = [
  "abajo",
  "abrir",
  "acaso",
  "aguja",
  "ahora",
  "ajeno",
  "algun",
  "ambos",
  "amiga",
  "amigo",
  "ancho",
  "antes",
  "apoyo",
  "aquel",
  "araña",
  "arbol",
  "arroz",
  "atras",
  "autor",
  "avena",
  "avion",
  "ayuda",
  "bambu",
  "barba",
  "barro",
  "beber",
  "bicho",
  "bolsa",
  "bolso",
  "boton",
  "brazo",
  "bueno",
  "calle",
  "calmo",
  "calor",
  "campo",
  "capaz",
  "cargo",
  "carne",
  "carta",
  "causa",
  "cerca",
  "cerdo",
  "cerro",
  "chino",
  "cielo",
  "cinco",
  "claro",
  "clase",
  "clavo",
  "clima",
  "coche",
  "coger",
  "color",
  "comer",
  "comun",
  "corte",
  "costa",
  "crear",
  "creer",
  "curso",
  "deber",
  "debil",
  "decir",
  "dejar",
  "demas",
  "desde",
  "deseo",
  "dolor",
  "donde",
  "dulce",
  "ellas",
  "ellos",
  "enojo",
  "entre",
  "epoca",
  "estar",
  "estas",
  "estos",
  "etapa",
  "exito",
  "facil",
  "falda",
  "falso",
  "falta",
  "favor",
  "fecha",
  "feliz",
  "final",
  "firme",
  "fondo",
  "forma",
  "fruta",
  "fuego",
  "fuera",
  "gafas",
  "gente",
  "grado",
  "gramo",
  "gripe",
  "grupo",
  "haber",
  "hacer",
  "hacia",
  "hasta",
  "hielo",
  "hogar",
  "hongo",
  "hotel",
  "hueso",
  "igual",
  "jamas",
  "joven",
  "jugar",
  "junto",
  "justo",
  "labio",
  "largo",
  "lejos",
  "libro",
  "litro",
  "llave",
  "local",
  "logro",
  "luego",
  "lugar",
  "lunes",
  "madre",
  "manga",
  "mayor",
  "medio",
  "medir",
  "mejor",
  "menor",
  "menos",
  "mente",
  "metal",
  "metro",
  "miedo",
  "misma",
  "mismo",
  "monte",
  "morir",
  "mosca",
  "mover",
  "mucho",
  "mujer",
  "mundo",
  "muslo",
  "nacer",
  "nadie",
  "nariz",
  "negar",
  "negro",
  "nieta",
  "nieto",
  "nieve",
  "nivel",
  "noche",
  "norma",
  "norte",
  "nueve",
  "nuevo",
  "nunca",
  "obvio",
  "odiar",
  "oeste",
  "orden",
  "oreja",
  "otras",
  "otros",
  "oveja",
  "padre",
  "palma",
  "panel",
  "papas",
  "papel",
  "parte",
  "pasto",
  "pecho",
  "pedir",
  "pegar",
  "perro",
  "pesar",
  "plata",
  "playa",
  "plomo",
  "poder",
  "poner",
  "prima",
  "primo",
  "pulpo",
  "punto",
  "quien",
  "quiza",
  "raton",
  "razon",
  "rural",
  "saber",
  "sacar",
  "salir",
  "salud",
  "salvo",
  "segun",
  "selva",
  "señor",
  "serie",
  "serio",
  "siete",
  "siglo",
  "silla",
  "sobre",
  "suave",
  "suelo",
  "susto",
  "tacto",
  "tallo",
  "talon",
  "tanta",
  "tanto",
  "tarde",
  "temor",
  "tener",
  "texto",
  "tigre",
  "tocar",
  "tomar",
  "total",
  "traer",
  "trigo",
  "unico",
  "unido",
  "usted",
  "usual",
  "valor",
  "vapor",
  "venir",
  "verde",
  "viejo",
  "villa",
  "vista",
  "vivir",
  "yegua",
];

export const allWords = [...answers];
